#include <string.h>
#include <stdlib.h>
#include <stdio.h>
enum
{
    BUFFERSIZE = 512
};
void func2(const char *input)
{
    char cmdbuf[BUFFERSIZE];
    int len_wanted = snprintf(cmdbuf, BUFFERSIZE,
                              "any_cmd '%s'", input);
    if (len_wanted >= BUFFERSIZE)
    {
        /* Handle error */
    }
    else if (len_wanted < 0)
    {
        /* Handle error */
    }
    else if (system(cmdbuf) == -1)
    {
        /* Handle error */
    }
}
